<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FloodSeal Solutions - Enterprise Architecture</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #0f172a 100%);
      color: white;
      min-height: 100vh;
      padding: 2rem;
    }
    .container { max-width: 1280px; margin: 0 auto; }
    .header { text-center; margin-bottom: 3rem; }
    .title { font-size: 3rem; font-weight: bold; margin-bottom: 1rem; background: linear-gradient(to right, #60a5fa, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .subtitle { font-size: 1.875rem; font-weight: 600; margin-bottom: 0.5rem; }
    .description { font-size: 1.25rem; color: #cbd5e1; }
    .warning-box { display: inline-block; background: rgba(239, 68, 68, 0.2); border: 2px solid #ef4444; border-radius: 0.5rem; padding: 1rem 1.5rem; margin-top: 1rem; }
    .warning-text { font-size: 1.125rem; font-family: monospace; color: #fca5a5; }
    .flow-selector { margin-bottom: 2rem; }
    .flow-title { font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem; text-align: center; }
    .flow-buttons { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
    .flow-button { padding: 1rem; border-radius: 0.5rem; font-weight: 600; border: none; cursor: pointer; transition: all 0.3s; }
    .flow-button:hover { transform: scale(1.05); }
    .flow-button.active { color: white; box-shadow: 0 10px 15px rgba(0,0,0,0.3); }
    .flow-button.inactive { background: #334155; color: #cbd5e1; }
    .card { background: rgba(30, 41, 59, 0.5); backdrop-filter: blur(10px); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem; border: 1px solid #475569; }
    .card-title { font-size: 1.875rem; font-weight: bold; margin-bottom: 1.5rem; text-align: center; }
    .step { background: rgba(15, 23, 42, 0.5); border-radius: 0.5rem; padding: 1rem; border: 1px solid #475569; margin-bottom: 1rem; display: flex; align-items: start; gap: 1rem; }
    .step:hover { border-color: #3b82f6; }
    .step-icon { padding: 0.75rem; border-radius: 0.5rem; flex-shrink: 0; }
    .step-content { flex: 1; }
    .step-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
    .step-layer { font-weight: bold; font-size: 1.125rem; color: #93c5fd; }
    .step-tech { font-size: 0.75rem; font-family: monospace; background: #334155; padding: 0.25rem 0.75rem; border-radius: 0.25rem; }
    .step-text { color: #cbd5e1; }
    .step-number { font-size: 1.5rem; font-weight: bold; color: #475569; }
    .arrow { text-align: center; margin: 0.5rem 0; }
    .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
    .tech-card { background: rgba(30, 41, 59, 0.5); backdrop-filter: blur(10px); border-radius: 0.75rem; padding: 1.5rem; border: 1px solid #475569; }
    .tech-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; }
    .tech-title { font-size: 1.25rem; font-weight: bold; }
    .tech-list { list-style: none; }
    .tech-item { display: flex; align-items: start; gap: 0.5rem; margin-bottom: 0.5rem; font-size: 0.875rem; color: #cbd5e1; }
    .flow-item { background: rgba(15, 23, 42, 0.5); border-radius: 0.5rem; padding: 1rem; border: 1px solid #475569; margin-bottom: 1rem; }
    .flow-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
    .flow-from { font-weight: bold; color: #93c5fd; }
    .flow-to { font-weight: bold; color: #86efac; }
    .flow-data { font-size: 0.875rem; color: #cbd5e1; margin-bottom: 0.25rem; }
    .flow-protocol { font-size: 0.75rem; font-family: monospace; background: #1e293b; padding: 0.25rem 0.5rem; border-radius: 0.25rem; color: #c084fc; display: inline-block; }
    .db-item { background: rgba(15, 23, 42, 0.5); border-radius: 0.5rem; padding: 1rem; border: 1px solid #475569; margin-bottom: 1rem; }
    .db-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
    .db-table { font-weight: bold; font-size: 1.125rem; color: #86efac; font-family: monospace; }
    .db-purpose { font-size: 0.875rem; color: #94a3b8; font-style: italic; }
    .db-fields { font-size: 0.875rem; color: #cbd5e1; font-family: monospace; margin-bottom: 0.5rem; }
    .db-constraints { font-size: 0.75rem; color: #fde047; background: rgba(234, 179, 8, 0.2); padding: 0.5rem 0.75rem; border-radius: 0.25rem; border: 1px solid #facc15; }
    .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 3rem; text-align: center; }
    .stat-card { border-radius: 0.5rem; padding: 1rem; border: 2px solid; }
    .stat-number { font-size: 1.875rem; font-weight: bold; }
    .stat-label { font-size: 0.875rem; color: #cbd5e1; }
    .comparison { margin-top: 3rem; background: linear-gradient(to right, rgba(239, 68, 68, 0.2), rgba(249, 115, 22, 0.2)); border: 2px solid #ef4444; border-radius: 1rem; padding: 2rem; }
    .comparison-title { font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem; color: #fca5a5; }
    .comparison-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; color: #e2e8f0; }
    .comparison-column h4 { font-weight: bold; font-size: 1.125rem; margin-bottom: 0.5rem; }
    .comparison-list { list-style: none; }
    .comparison-item { margin-bottom: 0.5rem; font-size: 0.875rem; }
    .comparison-footer { margin-top: 1.5rem; background: rgba(15, 23, 42, 0.5); border-radius: 0.5rem; padding: 1rem; border: 1px solid #b91c1c; }
    .comparison-footer-text { text-align: center; font-size: 1.125rem; font-weight: 600; color: #fca5a5; }
    .blue { background: #3b82f6; }
    .green { background: #22c55e; }
    .purple { background: #a855f7; }
    .orange { background: #f97316; }
    .yellow { background: #eab308; }
    .icon { width: 24px; height: 24px; display: inline-block; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;
    const { Database, Server, Globe, Zap, Shield, GitBranch, Users, DollarSign, ArrowRight, Lock, Cloud, CheckCircle } = lucide;

    const Icon = ({ icon: IconComponent, color, size = 24 }) => {
      return React.createElement(IconComponent, { size, color: color || 'currentColor' });
    };

    const FloodSealArchitecture = () => {
      const [activeFlow, setActiveFlow] = useState('lead');

      const flows = {
        lead: {
          title: 'Lead Capture & Referral Attribution',
          color: 'blue',
          steps: [
            { layer: 'User', icon: Users, text: 'Customer visits floodsealsolutions.com/?ref=nib_abc123', tech: 'Browser / URL Parameter' },
            { layer: 'WordPress', icon: Globe, text: 'Elementor form captures: Name, Email, Phone, Property Address + referral token', tech: 'PHP 8.2 / Astra Child Theme / Custom Functions' },
            { layer: 'Bridge API', icon: Server, text: 'POST to api.floodsealsolutions.com/referrer/nib_abc123 - Resolve token to CFA/CFP IDs + Names', tech: 'FastAPI (Python 3.11) / Uvicorn / SHA256 Token Hash Lookup' },
            { layer: 'Database', icon: Database, text: 'Query referral_tokens table (hashed), join contacts table for display names, check referrer_rep_assignments for CFAâ†’CFP mapping', tech: 'PostgreSQL 15 / Effective-dated temporal queries / btree_gist exclusion constraints' },
            { layer: 'Bridge API', icon: Server, text: 'Return JSON: {contact_id, name, cfp_id, cfp_name} - Resolved referral hierarchy', tech: 'Pydantic models / JSON serialization' },
            { layer: 'WordPress', icon: Globe, text: 'Create/update GHL contact with referrer metadata: Referrer_name, Referrer_contact_id, CFP_name, CFP_nib', tech: 'wp_remote_post to GHL API / Custom field mapping' },
            { layer: 'GoHighLevel', icon: Cloud, text: 'Contact created with Lead Type = "Flood Lead", custom fields populated, tagged "potential-flood-customer"', tech: 'GHL REST API v2 / Location ID: 0eSS4yw5RxqXVkXbocGJ' },
            { layer: 'Bridge API', icon: Server, text: 'Background task: Insert referral_links record (lead_id, cfa_id, cfp_id, owner_id, lead_kind="customer")', tech: 'Immutable audit trail / Created_at timestamp' },
            { layer: 'WooCommerce', icon: DollarSign, text: 'Add Panel Protection Plan ($997) to cart, apply CFA discount if ref=cfa_*, redirect to checkout', tech: 'WC_Cart API / Session storage / Coupon validation' },
            { layer: 'User', icon: Users, text: 'Complete Stripe payment ($997 or discounted)', tech: 'Stripe Checkout / PCI-compliant tokenization' }
          ]
        },
        cfa: {
          title: 'CFA (Agent) Signup & Token Issuance',
          color: 'green',
          steps: [
            { layer: 'User', icon: Users, text: 'CFA applicant visits /cfa-signup, fills application with referral code', tech: 'Browser / Query param ?ref=nib_xyz789' },
            { layer: 'WordPress', icon: Globe, text: 'Custom CFA form captures: Business info, licenses, referrer token', tech: 'PHP custom form / AJAX submission' },
            { layer: 'Bridge API', icon: Server, text: 'Resolve referrer (could be CFP or another CFA), create GHL contact with role=CFA', tech: 'POST /lead/submit with lead_kind=cfa_application' },
            { layer: 'GoHighLevel', icon: Cloud, text: 'Contact created with Lead Type = "CFA Lead", custom fields: Referrer_name, Referrer_contact_id', tech: 'GHL Contacts API / Custom field IDs from ghl:custom-fields.json' },
            { layer: 'WooCommerce', icon: DollarSign, text: 'Add CFA Program ($499) to cart, apply referral discount if applicable', tech: 'Product ID: 1155 / WC_Cart / Session management' },
            { layer: 'User', icon: Users, text: 'Complete payment ($499 or discounted)', tech: 'Stripe payment processing' },
            { layer: 'WordPress', icon: Globe, text: 'woocommerce_payment_complete hook: Update GHL tags to "CFA-Paid", "CFA-Active"', tech: 'WooCommerce action hooks / GHL tag API' },
            { layer: 'Bridge API', icon: Server, text: 'POST /token/issue - Generate unique referral token for new CFA', tech: 'secrets.token_urlsafe(16) / SHA256 hash / Store in referral_tokens table' },
            { layer: 'Database', icon: Database, text: 'Insert referral_tokens: owner_id=CFA_contact_id, token_hash=sha256(nib), purpose="customer_funnel", expires_at=NULL', tech: 'Postgres INSERT / Enforce owner role=cfa or cfp via trigger' },
            { layer: 'Bridge API', icon: Server, text: 'Return cleartext token ONCE: nib_generated_token (never stored)', tech: 'Return in API response only / Token displayed to user' },
            { layer: 'GoHighLevel', icon: Cloud, text: 'Update contact custom field: Token_generated = nib_generated_token', tech: 'GHL Custom Fields API / Field ID: GHL_TOKEN_GENERATED_FIELD_ID' },
            { layer: 'User', icon: Users, text: 'CFA receives email with referral link: floodsealsolutions.com/?ref=nib_generated_token', tech: 'GHL workflow automation / Email delivery' }
          ]
        },
        cfp: {
          title: 'CFP (Rep) Signup & Downline Assignment',
          color: 'purple',
          steps: [
            { layer: 'User', icon: Users, text: 'CFP applicant visits /cfp-signup, submits application', tech: 'Browser form submission' },
            { layer: 'WordPress', icon: Globe, text: 'CFP application form with sales experience, territory, credentials', tech: 'Custom PHP form handler' },
            { layer: 'Bridge API', icon: Server, text: 'Create GHL contact with role=CFP, Lead Type = "CFP Lead"', tech: 'POST to GHL Contacts API' },
            { layer: 'WooCommerce', icon: DollarSign, text: 'Add CFP Program ($1,000) to cart', tech: 'Product ID for CFP enrollment' },
            { layer: 'User', icon: Users, text: 'Complete payment ($1,000)', tech: 'Stripe payment processing' },
            { layer: 'WordPress', icon: Globe, text: 'Payment hook: Update GHL tags to "CFP-Paid", "CFP-Active", update contact role', tech: 'WooCommerce hooks / GHL API updates' },
            { layer: 'Bridge API', icon: Server, text: 'POST /token/issue - Generate CFP referral token', tech: 'Token generation / Hashing / Storage' },
            { layer: 'Database', icon: Database, text: 'Insert referral_tokens with owner_id=CFP_contact_id, purpose="cfa_recruitment"', tech: 'Postgres INSERT with role validation' },
            { layer: 'Admin', icon: Shield, text: 'Admin assigns CFA downline to CFP via internal tool', tech: 'Future admin dashboard / Manual assignment for now' },
            { layer: 'Bridge API', icon: Server, text: 'POST /rep/assign - Create referrer_rep_assignment record', tech: 'Effective-dated assignment / Overlap prevention' },
            { layer: 'Database', icon: Database, text: 'INSERT referrer_rep_assignments: cfa_id, cfp_id, starts_at=NOW(), ends_at=NULL', tech: 'Temporal table with exclusion constraint / No overlapping assignments' },
            { layer: 'Database', icon: Database, text: 'Trigger validation: Enforce cfa_id.role=cfa AND cfp_id.role=cfp', tech: 'PL/pgSQL trigger enforce_assignment_roles()' }
          ]
        },
        webhook: {
          title: 'GHL Webhook Event Processing',
          color: 'orange',
          steps: [
            { layer: 'GoHighLevel', icon: Cloud, text: 'Contact updated, opportunity stage changed, or tag modified', tech: 'GHL Webhook trigger configuration' },
            { layer: 'GoHighLevel', icon: Cloud, text: 'POST webhook to api.floodsealsolutions.com/webhook/ghl', tech: 'HTTPS POST / JSON payload / Event type header' },
            { layer: 'Bridge API', icon: Server, text: 'Authenticate webhook signature, parse event type (contact.update, opportunity.status_change)', tech: 'FastAPI endpoint / Request validation / Async processing' },
            { layer: 'Database', icon: Database, text: 'Upsert contacts table: Sync GHL contact data to bridge DB', tech: 'INSERT ON CONFLICT UPDATE / Touch updated_at timestamp' },
            { layer: 'Database', icon: Database, text: 'If opportunity.status = "won": Query referral_links for commission eligibility', tech: 'JOIN referral_links ON lead_id / Resolve CFA + CFP chain' },
            { layer: 'Bridge API', icon: Server, text: 'Background task: Calculate commissions, insert into commission_ledger (future)', tech: 'Async worker queue / Commission rules engine' },
            { layer: 'Bridge API', icon: Server, text: 'Background task: Send notification to assigned CFP via GHL SMS/Email', tech: 'Notification outbox pattern / Retry logic' },
            { layer: 'Database', icon: Database, text: 'Insert notification_outbox: cfp_id, event_type, payload, sent_at=NULL', tech: 'Outbox table for reliable delivery / Worker polls for unsent' }
          ]
        },
        commission: {
          title: 'Commission Tracking & Attribution (Future)',
          color: 'yellow',
          steps: [
            { layer: 'GoHighLevel', icon: Cloud, text: 'Opportunity marked "Closed Won" - $14,100 equipment sale', tech: 'GHL Opportunity pipeline / Stage transition webhook' },
            { layer: 'Bridge API', icon: Server, text: 'Webhook received: opportunity.won event', tech: 'POST /webhook/ghl' },
            { layer: 'Database', icon: Database, text: 'SELECT referral_links WHERE lead_id = opportunity.contact_id', tech: 'Immutable attribution query / Original referral chain' },
            { layer: 'Database', icon: Database, text: 'Resolve: CFA (referrer) + CFP (rep) from referral_links snapshot', tech: 'Pre-computed at lead capture / No retroactive changes' },
            { layer: 'Bridge API', icon: Server, text: 'Apply commission rules: CFA 5%, CFP 10%, Base rep 2%', tech: 'Configurable commission engine / Business rules' },
            { layer: 'Database', icon: Database, text: 'INSERT commission_ledger: opportunity_id, cfa_id, cfa_amount=$705, cfp_id, cfp_amount=$1410, status=pending', tech: 'Double-entry ledger / Audit trail' },
            { layer: 'Database', icon: Database, text: 'INSERT program_enrollments: Track CFA/CFP enrollment fees paid', tech: 'Fee tracking table / Payment status' },
            { layer: 'Admin', icon: Shield, text: 'Admin reviews commission dashboard, approves payouts', tech: 'Future React dashboard / Commission approval workflow' },
            { layer: 'Bridge API', icon: Server, text: 'POST /commission/payout - Mark commissions as paid', tech: 'Update commission_ledger.status = paid / paid_at timestamp' }
          ]
        }
      };

      const techStack = [
        { name: 'Frontend', icon: Globe, items: ['WordPress 6.x', 'Elementor Pro', 'Astra Child Theme', 'Custom PHP Functions', 'JavaScript ES6+', 'Responsive CSS3'] },
        { name: 'Backend', icon: Server, items: ['FastAPI (Python 3.11)', 'Uvicorn ASGI server', 'Pydantic validation', 'Async/await patterns', 'RESTful API design'] },
        { name: 'Database', icon: Database, items: ['PostgreSQL 15', 'SQLAlchemy ORM', 'Temporal tables', 'btree_gist extension', 'Exclusion constraints', 'PL/pgSQL triggers'] },
        { name: 'Infrastructure', icon: Cloud, items: ['DigitalOcean Droplet (4 vCPU, 8GB RAM)', 'Ubuntu 22.04 LTS', 'Nginx reverse proxy', 'Docker Compose', 'Let\'s Encrypt SSL', 'Cloudflare DNS'] },
        { name: 'Integrations', icon: Zap, items: ['GoHighLevel API v2', 'Stripe Checkout', 'WooCommerce REST API', 'Webhook event processing', 'Custom field mapping'] },
        { name: 'Security', icon: Shield, items: ['SHA256 token hashing', 'PCI-compliant payments', 'SSH key auth (port 2222)', 'UFW firewall', 'Fail2Ban', 'Input validation'] }
      ];

      const dataFlow = [
        { from: 'WordPress', to: 'Bridge API', data: 'Form submissions, referral tokens, customer data', protocol: 'HTTPS POST / JSON' },
        { from: 'Bridge API', to: 'PostgreSQL', data: 'Contact records, referral links, token hashes, assignments', protocol: 'SQLAlchemy ORM / Prepared statements' },
        { from: 'Bridge API', to: 'GoHighLevel', data: 'Contact creation/updates, custom fields, tags', protocol: 'GHL REST API / Bearer token auth' },
        { from: 'GoHighLevel', to: 'Bridge API', data: 'Webhook events (contact updates, opportunity changes)', protocol: 'HTTPS POST / Webhook signatures' },
        { from: 'WordPress', to: 'WooCommerce', data: 'Cart items, checkout data, payment processing', protocol: 'WC_Cart API / PHP functions' },
        { from: 'WooCommerce', to: 'Stripe', data: 'Payment tokens, subscription billing', protocol: 'Stripe Checkout / PCI tokenization' },
        { from: 'Bridge API', to: 'WordPress', data: 'Referrer resolution, token validation responses', protocol: 'JSON API responses' }
      ];

      const dbSchema = [
        { table: 'contacts', purpose: 'GHL contact sync', key_fields: 'ghl_contact_id (PK), email, phone, role (lead|cfa|cfp)', constraints: 'Unique email, role constraint, updated_at trigger' },
        { table: 'referral_tokens', purpose: 'Token storage', key_fields: 'token_hash (PK SHA256), owner_id (FK), purpose, expires_at', constraints: 'Owner must be CFA or CFP (trigger), unique hash' },
        { table: 'referrer_rep_assignments', purpose: 'CFAâ†’CFP mapping', key_fields: 'cfa_id (FK), cfp_id (FK), starts_at, ends_at', constraints: 'Temporal exclusion constraint (no overlap), role validation trigger' },
        { table: 'referral_links', purpose: 'Attribution audit', key_fields: 'lead_id (FK), cfa_id (FK), cfp_id (FK), owner_id, lead_kind, created_at', constraints: 'Immutable (no updates), unique lead_id, created_at default NOW()' },
        { table: 'program_enrollments', purpose: 'Fee tracking', key_fields: 'contact_id (FK), program (cfa|cfp), fee_amount, paid_at, status', constraints: 'Status enum (pending|paid|refunded|cancelled)' },
        { table: 'role_history', purpose: 'Role changes', key_fields: 'contact_id (FK), role_from, role_to, changed_at, note', constraints: 'Audit log (append-only)' }
      ];

      const activeFlowData = flows[activeFlow];

      return (
        <div className="container">
          <div className="header">
            <h1 className="title">FloodSeal Solutions</h1>
            <h2 className="subtitle">Enterprise-Grade System Architecture</h2>
            <p className="description">Multi-tier referral attribution, commission tracking, and CRM integration</p>
            <div className="warning-box">
              <p className="warning-text">This is NOT a VA + GHL hustle stack. This is production-grade engineering.</p>
            </div>
          </div>

          <div className="flow-selector">
            <h3 className="flow-title">Select Process Flow</h3>
            <div className="flow-buttons">
              {Object.entries(flows).map(([key, flow]) => (
                <button
                  key={key}
                  onClick={() => setActiveFlow(key)}
                  className={`flow-button ${activeFlow === key ? `active ${flow.color}` : 'inactive'}`}
                >
                  {flow.title}
                </button>
              ))}
            </div>
          </div>

          <div className="card">
            <h3 className="card-title">{activeFlowData.title}</h3>
            <div>
              {activeFlowData.steps.map((step, idx) => (
                <div key={idx}>
                  <div className="step">
                    <div className={`step-icon ${activeFlowData.color}`}>
                      <Icon icon={step.icon} />
                    </div>
                    <div className="step-content">
                      <div className="step-header">
                        <span className="step-layer">{step.layer}</span>
                        <span className="step-tech">{step.tech}</span>
                      </div>
                      <p className="step-text">{step.text}</p>
                    </div>
                    <div className="step-number">{idx + 1}</div>
                  </div>
                  {idx < activeFlowData.steps.length - 1 && (
                    <div className="arrow">
                      <Icon icon={ArrowRight} />
                    </div>
                  )}
                </div>
              ))}
            </div>
          </div>

          <div className="grid-3">
            {techStack.map((stack, idx) => (
              <div key={idx} className="tech-card">
                <div className="tech-header">
                  <Icon icon={stack.icon} color="#60a5fa" size={32} />
                  <h4 className="tech-title">{stack.name}</h4>
                </div>
                <ul className="tech-list">
                  {stack.items.map((item, i) => (
                    <li key={i} className="tech-item">
                      <Icon icon={CheckCircle} color="#86efac" size={16} />
                      <span>{item}</span>
                    </li>
                  ))}
                </ul>
              </div>
            ))}
          </div>

          <div className="card">
            <h3 className="card-title">
              <Icon icon={GitBranch} color="#c084fc" size={32} /> Inter-System Data Flow
            </h3>
            <div>
              {dataFlow.map((flow, idx) => (
                <div key={idx} className="flow-item">
                  <div className="flow-header">
                    <span className="flow-from">{flow.from}</span>
                    <Icon icon={ArrowRight} color="#c084fc" />
                    <span className="flow-to">{flow.to}</span>
                  </div>
                  <p className="flow-data">{flow.data}</p>
                  <code className="flow-protocol">{flow.protocol}</code>
                </div>
              ))}
            </div>
          </div>

          <div className="card">
            <h3 className="card-title">
              <Icon icon={Database} color="#86efac" size={32} /> PostgreSQL 15 Schema Design
            </h3>
            <div>
              {dbSchema.map((table, idx) => (
                <div key={idx} className="db-item">
                  <div className="db-header">
                    <code className="db-table">{table.table}</code>
                    <span className="db-purpose">{table.purpose}</span>
                  </div>
                  <p className="db-fields">{table.key_fields}</p>
                  <div className="db-constraints">
                    <Icon icon={Lock} size={12} /> {table.constraints}
                  </div>
                </div>
              ))}